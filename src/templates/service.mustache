{{#imports}}
import {{.}} from '../models/{{.}}'
{{/imports}}
import request from '{{{requestPath}}}'

{{#description}}
/**
 * @description {{description}}
 */
{{/description}}
export default class {{name}} {
  {{#requests}}
  {{#description}}
  /**
   * @description {{description}}
   */
  {{/description}}
  public static {{name}} = async (
    {{#parameters}}
    {{#description}}
    /**
     * @description {{description}}
     */
    {{/description}}
    {{name}}: {{&type}}{{#isOption}} | undefined{{/isOption}},
    {{/parameters}}
    /**
     * @description signal from abortcontroller is helpful when you want abort a request
     */
    signal?: AbortSignal
  ){{#responseType}}:Promise<{{{responseType}}}>{{/responseType}} => {
    const res = await request{{#responseType}}<{{{responseType}}}>{{/responseType}}(`{{&url}}`, {
      method: '{{method}}',
      {{#hasBody}}
      {{#body}}
      body: {{name}},
      {{/body}}
      {{/hasBody}}
      {{#hasQuery}}
      query: {
      {{#query}}
        {{name}},
      {{/query}}
      },
      {{/hasQuery}}
      {{#hasFormData}}
      formData: {
      {{#formData}}
        {{name}},
      {{/formData}}
      },
      {{/hasFormData}}
      signal,
    }) 
    return res
  }
  {{/requests}}
}
